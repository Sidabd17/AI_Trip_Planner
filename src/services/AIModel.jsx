import {
    GoogleGenerativeAI
  } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-lite-preview-02-05",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

 export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate Travel Plan for Location : Las Vegas , for 3 days for Couple with a Cheap budget , Give me a Hotels options list with HotelName , Hotel address , Price , hotel image url , geo coordinates , rating , descriptions , and suggest itinerary with placeName , Place Details , Places Image Url , Geo Coordinates , ticket pricing , Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\",\n    \"hotelOptions\": [\n      {\n        \"hotelName\": \"The LINQ Hotel + Experience\",\n        \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": {\n          \"currency\": \"USD\",\n          \"averageNightly\": 60,\n          \"note\": \"Prices vary greatly depending on the season and day of the week. Book in advance for the best deals. Look for weekday rates (Sun-Thu) for savings.\"\n        },\n        \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/79/92/79/exterior.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1140,\n          \"longitude\": -115.1740\n        },\n        \"rating\": 3.5,\n        \"description\": \"Located right in the heart of the Strip, The LINQ offers modern rooms, a lively atmosphere, and easy access to attractions. The LINQ Promenade is right outside with numerous shops and restaurants, and it's within walking distance of other casinos and shows.\"\n      },\n      {\n        \"hotelName\": \"Excalibur Hotel & Casino\",\n        \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": {\n          \"currency\": \"USD\",\n          \"averageNightly\": 40,\n          \"note\": \"Often offers very competitive rates, especially during the off-season. Check for resort fees, which are common in Vegas.\"\n        },\n        \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/a3/b1/9d/exterior.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.0987,\n          \"longitude\": -115.1757\n        },\n        \"rating\": 3.0,\n        \"description\": \"This castle-themed hotel provides a fun, family-friendly environment with affordable rooms, a large pool area, and a variety of dining options. It is connected to several other hotels via walkways, providing easy access to other areas of the Strip.\"\n      },\n      {\n        \"hotelName\": \"Flamingo Las Vegas Hotel & Casino\",\n        \"hotelAddress\": \"3555 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": {\n          \"currency\": \"USD\",\n          \"averageNightly\": 65,\n          \"note\": \"Consider booking a Go Room for a modern experience or one with a view of the Flamingo Wildlife Habitat for a more unique stay.\"\n        },\n        \"imageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/14/65/88/41/exterior.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 36.1159,\n          \"longitude\": -115.1725\n        },\n        \"rating\": 3.5,\n        \"description\": \"The Flamingo offers a classic Vegas experience with a tropical vibe, including a wildlife habitat with flamingos and other exotic birds. It is centrally located on the Strip and has a great pool area.\"\n      },\n      {\n          \"hotelName\": \"Ellis Island Hotel, Casino & Brewery\",\n          \"hotelAddress\": \"4178 Koval Ln, Las Vegas, NV 89109\",\n          \"price\": {\n              \"currency\": \"USD\",\n              \"averageNightly\": 35,\n              \"note\": \"This off-strip hotel is perfect for a budget-friendly trip to Las Vegas, close to the strip\"\n          },\n          \"imageUrl\": \"https://lh5.googleusercontent.com/p/AF1QipO5d6wY0-eF9lE4kQ_z4F5_U5U-tN1U4fT_vY5l=w408-h306-k-no\",\n          \"geoCoordinates\": {\n              \"latitude\": 36.1058,\n              \"longitude\": -115.1608\n          },\n          \"rating\": 3.5,\n          \"description\": \"A great option for budget-conscious travelers, the Ellis Island is located just east of the Strip. It offers simple but clean rooms, a lively casino, and a very popular brewery with cheap food and drink specials.\"\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n        \"theme\": \"Exploring the Strip and Free Attractions\",\n        \"plan\": [\n          {\n            \"placeName\": \"Welcome to Las Vegas Sign\",\n            \"placeDetails\": \"Take a classic photo to mark your arrival! This iconic sign is a must-see. It is at the southern end of the Strip.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Welcome_to_Las_Vegas_sign.jpg/1200px-Welcome_to_Las_Vegas_sign.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.0889,\n              \"longitude\": -115.1731\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToSpend\": \"30 minutes\",\n            \"bestTimeToVisit\": \"Anytime\"\n          },\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n            \"placeDetails\": \"Experience the stunning floral displays. The Conservatory is free and changes seasonally.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/03/50/34/the-conservatory-and-botanical.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1134,\n              \"longitude\": -115.1727\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToSpend\": \"1 hour\",\n            \"bestTimeToVisit\": \"Morning or Afternoon\"\n          },\n          {\n            \"placeName\": \"Bellagio Fountains\",\n            \"placeDetails\": \"Watch the mesmerizing fountain show, synchronized to music. Shows are free and happen every 15-30 minutes.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/7d/63/92/bellagio-fountains.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1134,\n              \"longitude\": -115.1727\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToSpend\": \"30 minutes (watch a few shows)\",\n            \"bestTimeToVisit\": \"Evening (shows are more dramatic at night)\"\n          },\n          {\n            \"placeName\": \"High Roller Observation Wheel (Optional - Budget permitting)\",\n            \"placeDetails\": \"Enjoy panoramic views of the Strip and the city. Check for discounts and consider a daytime ride for lower prices.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/fa/7f/e7/high-roller.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1132,\n              \"longitude\": -115.1747\n            },\n            \"ticketPricing\": {\n              \"currency\": \"USD\",\n              \"adult\": 25,\n              \"note\": \"prices vary based on time of the day and day of the week. Look for discount and happy hour offers\"\n            },\n            \"timeToSpend\": \"1 hour\",\n            \"bestTimeToVisit\": \"Evening for sunset views\"\n          },\n           {\n            \"placeName\": \"Free Shows (Circus Circus, Mirage Volcano)\",\n            \"placeDetails\": \"Enjoy free entertainment options\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Circus_Circus_Hotel.jpg/1200px-Circus_Circus_Hotel.jpg\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1347,\n                \"longitude\": -115.1692\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToSpend\": \"1-2 Hours\",\n            \"bestTimeToVisit\": \"Evening\"\n          }\n        ]\n      },\n      \"day2\": {\n        \"theme\": \"Downtown Las Vegas and Fremont Street Experience\",\n        \"plan\": [\n          {\n            \"placeName\": \"Downtown Las Vegas\",\n            \"placeDetails\": \"Explore the revitalized downtown area, a more affordable alternative to the Strip.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/06/a5/c9/fd/fremont-street-experience.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1702,\n              \"longitude\": -115.1484\n            },\n            \"ticketPricing\": \"Free (except for specific attractions)\",\n            \"timeToSpend\": \"Full Day\",\n            \"bestTimeToVisit\": \"Afternoon/Evening\"\n          },\n          {\n            \"placeName\": \"Fremont Street Experience\",\n            \"placeDetails\": \"Walk under the Viva Vision light show canopy and enjoy the free entertainment, including street performers and live music.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0f/a9/d0/11/fremont-street-experience.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1702,\n              \"longitude\": -115.1484\n            },\n            \"ticketPricing\": \"Free\",\n            \"timeToSpend\": \"2-3 hours (evening)\",\n            \"bestTimeToVisit\": \"Evening (the light shows are best at night)\"\n          },\n          {\n            \"placeName\": \"Mob Museum (Optional - Budget Permitting)\",\n            \"placeDetails\": \"If interested in organized crime, the Mob Museum is a highly-rated attraction.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/10/48/47/ae/mob-museum.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1685,\n              \"longitude\": -115.1413\n            },\n            \"ticketPricing\": {\n              \"currency\": \"USD\",\n              \"adult\": 30\n            },\n            \"timeToSpend\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Afternoon\"\n          },\n          {\n            \"placeName\": \"Container Park\",\n            \"placeDetails\": \"Browse shops, enjoy entertainment. Great for photo opportunities\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/10/6e/03/container-park.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1680,\n              \"longitude\": -115.1410\n            },\n            \"ticketPricing\": \"Free to enter, cost for shopping and dining\",\n            \"timeToSpend\": \"1-2 Hours\",\n            \"bestTimeToVisit\": \"Afternoon/Evening\"\n          },\n          {\n            \"placeName\": \"Cheap Eats Downtown\",\n            \"placeDetails\": \"Many budget friendly options for food and drinks\",\n            \"placeImageUrl\": \"https://lh5.googleusercontent.com/p/AF1QipO4j6L_97O9z1w-0vQ600B4H_f892130L8R2B0U=w408-h306-k-no\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1715,\n              \"longitude\": -115.1495\n            },\n            \"ticketPricing\": \"Varies\",\n            \"timeToSpend\": \"1 Hour\",\n            \"bestTimeToVisit\": \"Anytime\"\n          }\n        ]\n      },\n      \"day3\": {\n        \"theme\": \"Pool Day, Off-Strip Exploration, and a Final Strip Stroll\",\n        \"plan\": [\n          {\n            \"placeName\": \"Pool Time\",\n            \"placeDetails\": \"Enjoy the pool at your hotel, or explore different pools if staying at Excalibur or The Linq. Many hotel pools are free for guests.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/9c/03/c7/pool-area.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1140,\n              \"longitude\": -115.1740\n            },\n            \"ticketPricing\": \"Free (if hotel guest)\",\n            \"timeToSpend\": \"3-4 hours\",\n            \"bestTimeToVisit\": \"Midday (be aware of sun protection)\"\n          },\n          {\n            \"placeName\": \"Red Rock Canyon National Conservation Area (Off-Strip - Transportation needed)\",\n            \"placeDetails\": \"Take a day trip to Red Rock Canyon for scenic drives, hiking, and natural beauty. A car is recommended for this. If you are on a budget, consider driving your own car or using public transportation to avoid the cost of a tour.\",\n            \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Red_Rock_Canyon_National_Conservation_Area_-_Calico_Tanks_Trail_1.jpg/1200px-Red_Rock_Canyon_National_Conservation_Area_-_Calico_Tanks_Trail_1.jpg\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1162,\n              \"longitude\": -115.4051\n            },\n            \"ticketPricing\": {\n              \"currency\": \"USD\",\n              \"perVehicle\": 15,\n              \"note\": \"Entrance fee per vehicle\"\n            },\n            \"timeToSpend\": \"4-5 hours\",\n            \"bestTimeToVisit\": \"Morning (to avoid heat and crowds)\"\n          },\n          {\n            \"placeName\": \"High Roller (If not visited earlier - Budget Permitting)\",\n            \"placeDetails\": \"Panoramic views of the Strip and the city.\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/fa/7f/e7/high-roller.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1132,\n              \"longitude\": -115.1747\n            },\n            \"ticketPricing\": {\n              \"currency\": \"USD\",\n              \"adult\": 25,\n              \"note\": \"prices vary based on time of the day and day of the week. Look for discount and happy hour offers\"\n            },\n            \"timeToSpend\": \"1 hour\",\n            \"bestTimeToVisit\": \"Evening for sunset views\"\n          },\n          {\n            \"placeName\": \"Farewell Dinner and Strip Walk\",\n            \"placeDetails\": \"Enjoy a final walk along the Strip, take in the sights and sounds. Consider a meal at a budget friendly restaurant (e.g. In-N-Out burger, cheap eateries on the Strip)\",\n            \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/01/9b/19/9b/las-vegas-strip.jpg?w=700&h=-1&s=1\",\n            \"geoCoordinates\": {\n              \"latitude\": 36.1147,\n              \"longitude\": -115.1728\n            },\n            \"ticketPricing\": \"Varies (based on dinner choice)\",\n            \"timeToSpend\": \"2-3 hours\",\n            \"bestTimeToVisit\": \"Evening\"\n          }\n        ]\n      }\n    }\n  }\n}\n```\n"},
          ],
        },
      ],
    });
  